{% load oportunidad humanize %}

<style type="text/css">
    .dollar:before{
        content: "U$";
        padding-right: 3px;
        font-size: .9em;
    }
    .percent:after{
        content: "%";
        padding-left: 3px;
        font-size: .8em;
    }
</style>

{% with widget.attrs.instance as oportunity %}

    <table class="table">
        <thead>
        <tr>
            <th></th>
            {% for company in widget.attrs.companies %}
                <th>{{ company.name }}</th>
            {% endfor %}
        </tr>
        <tr>
            <th></th>

            {% for company in widget.attrs.companies %}
                <th style="text-align: right; padding: 0 7px 0 0;">
                    <input type="checkbox" name="{{ widget.name }}" value="{{ company.pk }}"
                           class="aseguradora-check"
                           data-tafifa="" {{ company|checked:oportunity }}>
                </th>
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>SUMA ASEGURADA</td>
            {% for company in widget.attrs.companies %}
                <td style="text-align: right; padding-right: 7px">
                    <span class="dollar">{{ company|suma:oportunity|intcomma }}</span>
                </td>
            {% endfor %}
        </tr>
        <tr>
            <td>DEDUCIBLE</td>
            {% for company in widget.attrs.companies %}
                <td style="text-align: right; padding-right: 7px">
                    <span class="dollar">{{ company|deducible:oportunity }}</span>
                </td>
            {% endfor %}
        </tr>
        <tr>
            <td>COASEGURO</td>
            {% for company in widget.attrs.companies %}
                <td style="text-align: right; padding-right: 7px">
                    <span class="percent">{{ company|coaseguro_dano:oportunity }}</span>
                </td>
            {% endfor %}
        </tr>
        <tr>
            <td>COASEGURO ROBO</td>
            {% for company in widget.attrs.companies %}
                <td style="text-align: right; padding-right: 7px">
                    <span class="percent">{{ company|coaseguro_robo:oportunity }}</span>
                </td>
            {% endfor %}
        </tr>
        <tr>
            <td>PRIMA TOTAL</td>
            {% for company in widget.attrs.companies %}
                <td style="text-align: right; padding-right: 7px">
                    <span class="dollar">{{ company|prima:oportunity|intcomma }}</span>
                </td>
            {% endfor %}
        </tr>
        </tbody>
    </table>
{% endwith %}